{"mappings":"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","sources":["src/index.ts","src/core/gpp-str.ts","src/core/gpp-header.ts","src/core/data-types.ts","src/core/utils.ts","src/sections/us-states/ca/uspca.ts"],"sourcesContent":["import { GPPString } from \"./core/gpp-str\";\r\nimport { UspcaSection } from \"./sections/us-states/ca/uspca\";\r\n\r\nexport { GPPString, UspcaSection };\r\n","import { GPPHeader } from \"./gpp-header\";\nimport { encodeBitStr2Base64Websafe } from \"./utils\";\nimport { Section } from \"../sections/section\";\n\nclass GPPString {\n  #sections: Map<number, Section> = new Map();\n\n  static Builder = class {\n    #sections: Map<number, Section> = new Map();\n\n    addSection(section: Section) {\n      this.#sections.set(section.getGPPSectionID(), section);\n      return this;\n    }\n\n    build() {\n      return new GPPString(this.#sections);\n    }\n  };\n\n  constructor(sections: Map<number, Section>) {\n    this.#sections = sections;\n  }\n\n  encode2BitStr() {\n    let encodedString = \"\";\n    if (this.#sections.size === 0) {\n      throw \"You need to add sections to be able to build the GPP string\";\n    }\n    const sortedSections = this.#sortSections();\n    const encodedHeader = new GPPHeader(Array.from(sortedSections.keys()));\n    encodedString += encodedHeader.encode2BitStr();\n\n    for (const [, value] of this.#sections) {\n      encodedString += \"~\" + value.encode2BitStr();\n    }\n    return encodedString;\n  }\n\n  encode2Base64Websafe() {\n    let encodedString = \"\";\n    if (this.#sections.size === 0) {\n      throw \"You need to add sections to be able to build the GPP string\";\n    }\n    const sortedSections = this.#sortSections();\n    const encodedHeader = new GPPHeader(Array.from(sortedSections.keys()));\n    encodedString += encodeBitStr2Base64Websafe(encodedHeader.encode2BitStr());\n\n    for (const [, value] of this.#sections) {\n      encodedString += \"~\" + encodeBitStr2Base64Websafe(value.encode2BitStr());\n    }\n    return encodedString;\n  }\n\n  toString() {\n    return this.encode2BitStr();\n  }\n\n  #sortSections() {\n    return new Map(\n      [...this.#sections].sort(\n        (a: [number, Section], b: [number, Section]) => a[0] - b[0]\n      )\n    );\n  }\n}\n\nexport { GPPString };\n","import { IntegerFixedLength, RangeFibonacci } from \"./data-types\";\nimport { Section } from \"../sections/section\";\n\nconst GPP_TYPE = 3;\nconst GPP_VERSION = 1;\nclass GPPHeader {\n  #type = new IntegerFixedLength.Builder()\n    .setLength(6)\n    .setValue(GPP_TYPE)\n    .build();\n  #version = new IntegerFixedLength.Builder()\n    .setLength(6)\n    .setValue(GPP_VERSION)\n    .build();\n  #sections;\n\n  constructor(sectionsIDArray: number[]) {\n    if (!Array.isArray(sectionsIDArray) || sectionsIDArray.length === 0) {\n      throw `sections must be an Array sections IDs of length > 0, for example: [2, 6]`;\n    }\n    const rangeFibonacci = new RangeFibonacci.Builder();\n    for (let n = 0; n < sectionsIDArray.length; n++) {\n      rangeFibonacci.addSingle(sectionsIDArray[n]);\n    }\n    this.#sections = rangeFibonacci.build();\n  }\n\n  encode2BitStr() {\n    let encodedString = \"\";\n    encodedString += this.#type.encode2BitStr();\n    encodedString += this.#version.encode2BitStr();\n    encodedString += this.#sections.encode2BitStr();\n    return encodedString;\n  }\n}\n\nexport { GPPHeader };\n","import { int2BinStr, isOverflowed, int2Fibonacci } from \"./utils\";\r\n\r\n//\r\n// Global\r\n//\r\n\r\nenum RangeItemType {\r\n  SINGLE = \"0\",\r\n  GROUP = \"1\",\r\n}\r\n\r\ninterface RangeItemSingle {\r\n  type: RangeItemType.SINGLE;\r\n  value: number;\r\n}\r\n\r\ninterface RangeItemGroup {\r\n  type: RangeItemType.GROUP;\r\n  fromValue: number;\r\n  toValue: number;\r\n}\r\n\r\n//\r\n// Boolean\r\n//\r\n\r\nclass Boolean {\r\n  #value = false;\r\n\r\n  static Builder = class {\r\n    #value = false;\r\n\r\n    setValue(value: boolean) {\r\n      this.#value = !!value;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      const boolean = new Boolean(this.#value);\r\n      return boolean;\r\n    }\r\n  };\r\n\r\n  constructor(value: boolean) {\r\n    this.#value = value;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      value: this.#value,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    if (this.#value) return \"1\";\r\n    else return \"0\";\r\n  }\r\n}\r\n\r\n//\r\n// IntegerFixedLength\r\n//\r\n\r\nclass IntegerFixedLength {\r\n  #value: number;\r\n  #length: number;\r\n\r\n  static Builder = class Builder {\r\n    #value = 0;\r\n    #length = 1;\r\n\r\n    setLength(length = 1): Builder {\r\n      if (!Number.isInteger(length) && length > 1) {\r\n        throw \"length param must be a positive integer\";\r\n      }\r\n      this.#checkIfTruncated(this.#value, length);\r\n      this.#length = length;\r\n      return this;\r\n    }\r\n\r\n    setValue(value: number) {\r\n      if (!Number.isInteger(value) && value >= 0) {\r\n        throw \"value param must be a non-negative integer\";\r\n      }\r\n      this.#checkIfTruncated(value, this.#length);\r\n      this.#value = value;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      const integer = new IntegerFixedLength(this.#value, this.#length);\r\n      return integer;\r\n    }\r\n\r\n    #checkIfTruncated(value: number, length: number) {\r\n      const binString = int2BinStr(value);\r\n      if (isOverflowed(value, length)) {\r\n        throw `Truncation error, length must be larger than ${binString.length} for value ${value}`;\r\n      }\r\n    }\r\n  };\r\n\r\n  constructor(value: number, length: number) {\r\n    this.#value = value;\r\n    this.#length = length;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      value: this.#value,\r\n      length: this.#length,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    const binString = int2BinStr(this.#value);\r\n    return binString.padStart(this.#length, \"0\");\r\n  }\r\n}\r\n\r\n//\r\n// IntegerFibonacci\r\n//\r\n// Integer encoded using Fibonacci encoding\r\n// See “About Fibonacci Encoding” for more detail\r\n// https://github.com/InteractiveAdvertisingBureau/Global-Privacy-Platform/blob/main/Core/Consent%20String%20Specification.md#fibonacci-encoding-to-deal-with-string-length-\r\n\r\nclass IntegerFibonacci {\r\n  #value = 0;\r\n\r\n  static Builder = class {\r\n    #value = 0;\r\n\r\n    setValue(value: number) {\r\n      if (!Number.isInteger(value) && value >= 0) {\r\n        throw \"value param must be a non-negative integer\";\r\n      }\r\n      this.#value = value;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      const integer = new IntegerFibonacci(this.#value);\r\n      return integer;\r\n    }\r\n  };\r\n\r\n  constructor(value: number) {\r\n    this.#value = value;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      value: this.#value,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    return int2Fibonacci(this.#value);\r\n  }\r\n}\r\n\r\n//\r\n// StringFixedLength\r\n//\r\n// A fixed amount of bit representing a string. The character’s ASCII integer ID is subtracted by 65 and encoded into an int(6).\r\n// Example: int(6) “101010” represents integer 47 + 65 = char “h”\r\n\r\nclass StringFixedLength {\r\n  #value = \"\";\r\n\r\n  static Builder = class {\r\n    #value = \"\";\r\n\r\n    setValue(value: string) {\r\n      this.#value = value;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      return new StringFixedLength(this.#value);\r\n    }\r\n  };\r\n\r\n  constructor(value: string) {\r\n    this.#value = value;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      value: this.#value,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    let encodedString = \"\";\r\n    let int6;\r\n    for (const char of this.#value) {\r\n      int6 = new IntegerFixedLength.Builder()\r\n        .setLength(6)\r\n        .setValue(char.charCodeAt(0) - 65)\r\n        .build();\r\n      encodedString += int6.encode2BitStr();\r\n    }\r\n    return encodedString;\r\n  }\r\n}\r\n\r\n//\r\n// Datetime\r\n//\r\n// A datetime is encoded as a 36 bit integer representing the 1/10th seconds since January 01 1970 00:00:00 UTC.\r\n// Example JavaScript representation: Math.round((new Date()).getTime()/100)\r\n\r\nclass Datetime {\r\n  #value = new Date();\r\n\r\n  static Builder = class {\r\n    #value = new Date();\r\n\r\n    setValue(value: Date) {\r\n      if (!(value instanceof Date)) {\r\n        throw \"value param must be an Date\";\r\n      }\r\n      this.#value = value;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      return new Datetime(this.#value);\r\n    }\r\n  };\r\n\r\n  constructor(value: Date) {\r\n    this.#value = value;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      value: this.#value,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    const int36 = new IntegerFixedLength.Builder()\r\n      .setLength(36)\r\n      .setValue(Math.round(this.#value.getTime() / 100))\r\n      .build();\r\n    return int36.encode2BitStr();\r\n  }\r\n}\r\n\r\n//\r\n// RangeInteger\r\n//\r\n\r\nclass RangeInteger {\r\n  #items: (RangeItemSingle | RangeItemGroup)[] = [];\r\n  #SINGLE = \"0\";\r\n  #GROUP = \"1\";\r\n\r\n  static Builder = class {\r\n    #items: (RangeItemSingle | RangeItemGroup)[] = [];\r\n    #lastValue = 0;\r\n    #SINGLE = \"0\";\r\n    #GROUP = \"1\";\r\n\r\n    addSingle(value: number) {\r\n      if (!Number.isInteger(value)) {\r\n        throw \"value param must be an integer\";\r\n      }\r\n      if (value <= this.#lastValue) {\r\n        throw \"Values must be added in sorted ascending order\";\r\n      }\r\n\r\n      this.#items.push({\r\n        type: RangeItemType.SINGLE,\r\n        value: value,\r\n      });\r\n      this.#lastValue = value;\r\n      return this;\r\n    }\r\n\r\n    addGroup(fromValue: number, toValue: number) {\r\n      if (!Number.isInteger(fromValue)) {\r\n        throw \"fromValue param must be an integer\";\r\n      }\r\n      if (!Number.isInteger(toValue)) {\r\n        throw \"toValue param must be an integer\";\r\n      }\r\n      if (fromValue >= toValue) {\r\n        throw \"fromValue must be lower than toValue\";\r\n      }\r\n      if (fromValue <= this.#lastValue) {\r\n        throw \"Values must be added in sorted ascending order\";\r\n      }\r\n      this.#items.push({ type: RangeItemType.GROUP, fromValue, toValue });\r\n      this.#lastValue = toValue;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      return new RangeInteger(this.#items);\r\n    }\r\n  };\r\n\r\n  constructor(items: (RangeItemSingle | RangeItemGroup)[]) {\r\n    this.#items = items;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      items: this.#items,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    let encodedRange = \"\";\r\n    encodedRange += new IntegerFixedLength.Builder()\r\n      .setLength(12)\r\n      .setValue(this.#items.length)\r\n      .build()\r\n      .encode2BitStr();\r\n    let lastValue = 0;\r\n    this.#items.forEach((item) => {\r\n      if (item.type === RangeItemType.SINGLE) {\r\n        encodedRange += this.#SINGLE;\r\n        encodedRange += new IntegerFixedLength.Builder()\r\n          .setLength(16)\r\n          .setValue(item.value - lastValue)\r\n          .build()\r\n          .encode2BitStr();\r\n\r\n        lastValue = item.value;\r\n      } else if (item.type === RangeItemType.GROUP) {\r\n        encodedRange += this.#GROUP;\r\n        encodedRange += new IntegerFixedLength.Builder()\r\n          .setLength(16)\r\n          .setValue(item.fromValue - lastValue)\r\n          .build()\r\n          .encode2BitStr();\r\n        encodedRange += new IntegerFixedLength.Builder()\r\n          .setLength(16)\r\n          .setValue(item.toValue - item.fromValue)\r\n          .build()\r\n          .encode2BitStr();\r\n        lastValue = item.toValue;\r\n      }\r\n    });\r\n    return encodedRange;\r\n  }\r\n}\r\n\r\n//\r\n// RangeFibonacci\r\n//\r\n\r\nclass RangeFibonacci {\r\n  #items: (RangeItemGroup | RangeItemSingle)[] = [];\r\n\r\n  static Builder = class {\r\n    #items: (RangeItemGroup | RangeItemSingle)[] = [];\r\n    #lastValue = 0;\r\n\r\n    addSingle(value: number) {\r\n      if (!Number.isInteger(value)) {\r\n        throw \"value param must be an integer\";\r\n      }\r\n      if (value <= this.#lastValue) {\r\n        throw \"Values must be added in sorted ascending order\";\r\n      }\r\n      this.#items.push({ type: RangeItemType.SINGLE, value: value });\r\n      this.#lastValue = value;\r\n      return this;\r\n    }\r\n\r\n    addGroup(fromValue: number, toValue: number) {\r\n      if (!Number.isInteger(fromValue)) {\r\n        throw \"fromValue param must be an integer\";\r\n      }\r\n      if (!Number.isInteger(toValue)) {\r\n        throw \"toValue param must be an integer\";\r\n      }\r\n      if (fromValue >= toValue) {\r\n        throw \"fromValue must be lower than toValue\";\r\n      }\r\n      if (fromValue <= this.#lastValue) {\r\n        throw \"Values must be added in sorted ascending order\";\r\n      }\r\n      this.#items.push({\r\n        type: RangeItemType.GROUP,\r\n        fromValue,\r\n        toValue,\r\n      });\r\n      this.#lastValue = toValue;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      const rangeFibonacci = new RangeFibonacci(this.#items);\r\n      return rangeFibonacci;\r\n    }\r\n  };\r\n\r\n  constructor(items: (RangeItemGroup | RangeItemSingle)[]) {\r\n    this.#items = items;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      items: this.#items,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    let encodedRange = \"\";\r\n    encodedRange += new IntegerFixedLength.Builder()\r\n      .setLength(12)\r\n      .setValue(this.#items.length)\r\n      .build()\r\n      .encode2BitStr();\r\n\r\n    let lastValue = 0;\r\n    this.#items.forEach((item) => {\r\n      if (item.type === RangeItemType.SINGLE) {\r\n        encodedRange += item.type;\r\n        encodedRange += int2Fibonacci(item.value - lastValue);\r\n        lastValue = item.value;\r\n      } else if (item.type === RangeItemType.GROUP) {\r\n        encodedRange += item.type;\r\n        encodedRange += int2Fibonacci(item.fromValue - lastValue);\r\n        encodedRange += int2Fibonacci(item.toValue - item.fromValue);\r\n        lastValue = item.toValue;\r\n      }\r\n    });\r\n    return encodedRange;\r\n  }\r\n}\r\n\r\n//\r\n// NBitField\r\n//\r\n\r\nclass NBitfield {\r\n  #nBits: IntegerFixedLength[] = [];\r\n  #nBitSize = 1;\r\n\r\n  static Builder = class {\r\n    #nBits: IntegerFixedLength[] = [];\r\n    #nBitSize = 1;\r\n    #numBits = 0;\r\n\r\n    setNbitSize(nBitSize: number) {\r\n      if (!Number.isInteger(nBitSize) && nBitSize > 0) {\r\n        throw \"nBitSize param must be a positive integer\";\r\n      }\r\n      this.#nBitSize = nBitSize;\r\n      return this;\r\n    }\r\n\r\n    setNumBits(numBits: number) {\r\n      if (!Number.isInteger(numBits) && numBits > 0) {\r\n        throw \"numBits param must be a positive integer\";\r\n      }\r\n      this.#numBits = numBits;\r\n      for (let i = 0; i < numBits; i++) {\r\n        const integerFixedLength = new IntegerFixedLength.Builder()\r\n          .setLength(this.#nBitSize)\r\n          .setValue(0)\r\n          .build();\r\n        this.#nBits.push(integerFixedLength);\r\n      }\r\n      return this;\r\n    }\r\n\r\n    setNBit(position: number, value: number) {\r\n      if (\r\n        !Number.isInteger(position) &&\r\n        position >= 1 &&\r\n        position <= this.#numBits\r\n      ) {\r\n        throw `position param must be a positive integer, from 1 to ${\r\n          this.#numBits\r\n        }`;\r\n      }\r\n      const integerFixedLength = new IntegerFixedLength.Builder()\r\n        .setLength(this.#nBitSize)\r\n        .setValue(value)\r\n        .build();\r\n      this.#nBits[position - 1] = integerFixedLength;\r\n      return this;\r\n    }\r\n\r\n    build() {\r\n      const nBitfield = new NBitfield(this.#nBitSize, this.#nBits);\r\n      return nBitfield;\r\n    }\r\n  };\r\n\r\n  constructor(nBitSize: number, nBits: IntegerFixedLength[]) {\r\n    this.#nBitSize = nBitSize;\r\n    this.#nBits = nBits;\r\n  }\r\n\r\n  toString() {\r\n    return JSON.stringify({\r\n      nBitSize: this.#nBitSize,\r\n      nBits: this.#nBits,\r\n    });\r\n  }\r\n\r\n  encode2BitStr() {\r\n    let encodedRange = \"\";\r\n    this.#nBits.forEach((item) => {\r\n      encodedRange += item.encode2BitStr();\r\n    });\r\n    return encodedRange;\r\n  }\r\n}\r\nexport {\r\n  Boolean,\r\n  IntegerFixedLength,\r\n  IntegerFibonacci,\r\n  StringFixedLength,\r\n  Datetime,\r\n  RangeInteger,\r\n  RangeFibonacci,\r\n  NBitfield,\r\n};\r\n","export function int2BinStr(value: number) {\r\n  return value.toString(2);\r\n}\r\n\r\nexport function isOverflowed(value: number, length: number) {\r\n  return int2BinStr(value).length > length;\r\n}\r\n\r\nexport function int2Fibonacci(n: number) {\r\n  const fib = new Array(n);\r\n\r\n  function largestFiboLessOrEqual(num: number) {\r\n    fib[0] = 1;\r\n    fib[1] = 2;\r\n    let i;\r\n    // eslint-disable-next-line no-plusplus\r\n    for (i = 2; fib[i - 1] <= num; i++) {\r\n      fib[i] = fib[i - 1] + fib[i - 2];\r\n    }\r\n    return i - 2;\r\n  }\r\n\r\n  function fibonacciEncode(number: number) {\r\n    const index = largestFiboLessOrEqual(number);\r\n    let num = number;\r\n    const codeword = new Array(index + 3);\r\n    let i = index;\r\n    while (num > 0) {\r\n      codeword[i] = \"1\";\r\n      num -= fib[i];\r\n      i -= 1;\r\n      while (i >= 0 && fib[i] > num) {\r\n        codeword[i] = \"0\";\r\n        i -= 1;\r\n      }\r\n    }\r\n    // Additional '1' bit\r\n    codeword[index + 1] = \"1\";\r\n    const string = codeword.join(\"\");\r\n    // Return pointer to codeword\r\n    return string;\r\n  }\r\n  const code = fibonacciEncode(n);\r\n  return code;\r\n}\r\n\r\nexport function encodeBitStr2Base64Websafe(bitStr: string) {\r\n  let fibcode = bitStr;\r\n  fibcode = padString6bits(fibcode);\r\n  const fibcodeDivided = fibcode.match(/.{1,6}/g);\r\n  return fibcodeDivided\r\n    ? fibcodeDivided\r\n        .map((str) => {\r\n          // console.log(parseInt(str, 2) + 65);\r\n          return String.fromCharCode(parseInt(str, 2) + 65);\r\n        })\r\n        .join(\"\")\r\n    : \"\";\r\n}\r\n\r\nfunction padString6bits(string: string) {\r\n  const mod: number = string.length % 6;\r\n  // We don't require any padding\r\n  if (!mod) return string;\r\n  // See how much padding we need\r\n  const rem = 6 - mod;\r\n  const pad = \"\".padEnd(rem, \"0\");\r\n  return string + pad;\r\n}\r\n","// eslint-disable-next-line max-classes-per-file\nimport { IntegerFixedLength, NBitfield } from \"../../../core/data-types\";\nimport { Section } from \"../../section\";\n\nclass UspcaSection implements Section {\n  #gppSectionID = 8;\n  #clientSideAPIPrefix = \"uspca\";\n  #version = new IntegerFixedLength.Builder().setLength(6).setValue(1).build();\n  #saleOptOutNotice: IntegerFixedLength;\n  #sharingOptOutNotice: IntegerFixedLength;\n  #sensitiveDataLimitUseNotice: IntegerFixedLength;\n  #saleOptOut: IntegerFixedLength;\n  #sharingOptOut: IntegerFixedLength;\n  #sensitiveDataProcessing: NBitfield;\n  #knownChildSensitiveDataConsents: NBitfield;\n  #personalDataConsents: IntegerFixedLength;\n  #mspaCoveredTransaction: IntegerFixedLength;\n  #mspaOptOutOptionMode: IntegerFixedLength;\n  #mspaServiceProviderMode: IntegerFixedLength;\n\n  static Builder = class {\n    #saleOptOutNotice = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #sharingOptOutNotice = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #sensitiveDataLimitUseNotice = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #saleOptOut = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #sharingOptOut = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #sensitiveDataProcessing = new NBitfield.Builder()\n      .setNbitSize(2)\n      .setNumBits(9)\n      .setNBit(1, 0)\n      .setNBit(2, 0)\n      .setNBit(3, 0)\n      .setNBit(4, 0)\n      .setNBit(5, 0)\n      .setNBit(6, 0)\n      .setNBit(7, 0)\n      .setNBit(8, 0)\n      .setNBit(9, 0)\n      .build();\n    #knownChildSensitiveDataConsents = new NBitfield.Builder()\n      .setNbitSize(2)\n      .setNumBits(2)\n      .setNBit(1, 0)\n      .setNBit(2, 0)\n      .build();\n    #personalDataConsents = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #mspaCoveredTransaction = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #mspaOptOutOptionMode = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n    #mspaServiceProviderMode = new IntegerFixedLength.Builder()\n      .setLength(2)\n      .setValue(0)\n      .build();\n\n    setSaleOptOutNotice(saleOptOutNotice: number) {\n      if (saleOptOutNotice < 0 || saleOptOutNotice > 2) {\n        throw `param value ${saleOptOutNotice} of setSaleOptOutNotice method must be a non-negative integer between 0 and 2`;\n      }\n      this.#saleOptOutNotice = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(saleOptOutNotice)\n        .build();\n      return this;\n    }\n\n    setSharingOptOutNotice(sharingOptOutNotice: number) {\n      if (sharingOptOutNotice < 0 || sharingOptOutNotice > 2) {\n        throw `param value ${sharingOptOutNotice} of setSharingOptOutNotice method must be a non-negative integer between 0 and 2`;\n      }\n      this.#sharingOptOutNotice = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(sharingOptOutNotice)\n        .build();\n      return this;\n    }\n\n    setSensitiveDataLimitUseNotice(sensitiveDataLimitUseNotice: number) {\n      if (sensitiveDataLimitUseNotice < 0 || sensitiveDataLimitUseNotice > 2) {\n        throw `param value ${sensitiveDataLimitUseNotice} of setSensitiveDataLimitUseNotice method must be a non-negative integer between 0 and 2`;\n      }\n      this.#sensitiveDataLimitUseNotice = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(sensitiveDataLimitUseNotice)\n        .build();\n      return this;\n    }\n\n    setSaleOptOut(saleOptOut: number) {\n      if (saleOptOut < 0 || saleOptOut > 2) {\n        throw `param value ${saleOptOut} of setSaleOptOut method must be a non-negative integer between 0 and 2`;\n      }\n      this.#saleOptOut = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(saleOptOut)\n        .build();\n      return this;\n    }\n\n    setSharingOptOut(sharingOptOut: number) {\n      if (sharingOptOut < 0 || sharingOptOut > 2) {\n        throw `param value ${sharingOptOut} of setSharingOptOut method must be a non-negative integer between 0 and 2`;\n      }\n      this.#sharingOptOut = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(sharingOptOut)\n        .build();\n      return this;\n    }\n\n    setSensitiveDataProcessing(sensitiveDataProcessing: number) {\n      if (\n        !Array.isArray(sensitiveDataProcessing) ||\n        sensitiveDataProcessing.length !== 9\n      ) {\n        throw `param in setSensitiveDataProcessing method must be an Array of length 9`;\n      }\n      const nbitfield = new NBitfield.Builder().setNbitSize(2).setNumBits(9);\n\n      for (let n = 0; n < 9; n++) {\n        const bitValue = sensitiveDataProcessing[n];\n        nbitfield.setNBit(n + 1, bitValue);\n      }\n      this.#sensitiveDataProcessing = nbitfield.build();\n      return this;\n    }\n\n    setKnownChildSensitiveDataConsents(\n      knownChildSensitiveDataConsents: number\n    ) {\n      if (\n        !Array.isArray(knownChildSensitiveDataConsents) ||\n        knownChildSensitiveDataConsents.length !== 2\n      ) {\n        throw `param value ${knownChildSensitiveDataConsents} of section in setKnownChildSensitiveDataConsents method must be an Array of length 2`;\n      }\n      const nbitfield = new NBitfield.Builder().setNbitSize(2).setNumBits(2);\n      for (let n = 0; n < 2; n++) {\n        const bitValue = knownChildSensitiveDataConsents[n];\n        nbitfield.setNBit(n + 1, bitValue);\n      }\n      this.#knownChildSensitiveDataConsents = nbitfield.build();\n      return this;\n    }\n\n    setPersonalDataConsents(personalDataConsents: number) {\n      if (personalDataConsents < 0 || personalDataConsents > 2) {\n        throw `param value ${personalDataConsents} of setPersonalDataConsents method must be a non-negative integer between 0 and 2`;\n      }\n      this.#personalDataConsents = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(personalDataConsents)\n        .build();\n      return this;\n    }\n\n    setMspaCoveredTransaction(mspaCoveredTransaction: number) {\n      if (mspaCoveredTransaction < 0 || mspaCoveredTransaction > 2) {\n        throw `param value ${mspaCoveredTransaction} of setMspaCoveredTransaction method must be a non-negative integer between 0 and 2`;\n      }\n      this.#mspaCoveredTransaction = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(mspaCoveredTransaction)\n        .build();\n      return this;\n    }\n\n    setMspaOptOutOptionMode(mspaOptOutOptionMode: number) {\n      if (mspaOptOutOptionMode < 0 || mspaOptOutOptionMode > 2) {\n        throw `param value ${mspaOptOutOptionMode} of setMspaOptOutOptionMode method must be a non-negative integer between 0 and 2`;\n      }\n      this.#mspaOptOutOptionMode = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(mspaOptOutOptionMode)\n        .build();\n      return this;\n    }\n\n    setMspaServiceProviderMode(mspaServiceProviderMode: number) {\n      if (mspaServiceProviderMode < 0 || mspaServiceProviderMode > 2) {\n        throw `param value ${mspaServiceProviderMode} of setMspaServiceProviderMode method must be a non-negative integer between 0 and 2`;\n      }\n      this.#mspaServiceProviderMode = new IntegerFixedLength.Builder()\n        .setLength(2)\n        .setValue(mspaServiceProviderMode)\n        .build();\n      return this;\n    }\n\n    build() {\n      const gppString = new UspcaSection(\n        this.#saleOptOutNotice,\n        this.#sharingOptOutNotice,\n        this.#sensitiveDataLimitUseNotice,\n        this.#saleOptOut,\n        this.#sharingOptOut,\n        this.#sensitiveDataProcessing,\n        this.#knownChildSensitiveDataConsents,\n        this.#personalDataConsents,\n        this.#mspaCoveredTransaction,\n        this.#mspaOptOutOptionMode,\n        this.#mspaServiceProviderMode\n      );\n      return gppString;\n    }\n  };\n\n  constructor(\n    saleOptOutNotice: IntegerFixedLength,\n    sharingOptOutNotice: IntegerFixedLength,\n    sensitiveDataLimitUseNotice: IntegerFixedLength,\n    saleOptOut: IntegerFixedLength,\n    sharingOptOut: IntegerFixedLength,\n    sensitiveDataProcessing: NBitfield,\n    knownChildSensitiveDataConsents: NBitfield,\n    personalDataConsents: IntegerFixedLength,\n    mspaCoveredTransaction: IntegerFixedLength,\n    mspaOptOutOptionMode: IntegerFixedLength,\n    mspaServiceProviderMode: IntegerFixedLength\n  ) {\n    this.#saleOptOutNotice = saleOptOutNotice;\n    this.#sharingOptOutNotice = sharingOptOutNotice;\n    this.#sensitiveDataLimitUseNotice = sensitiveDataLimitUseNotice;\n    this.#saleOptOut = saleOptOut;\n    this.#sharingOptOut = sharingOptOut;\n    this.#sensitiveDataProcessing = sensitiveDataProcessing;\n    this.#knownChildSensitiveDataConsents = knownChildSensitiveDataConsents;\n    this.#personalDataConsents = personalDataConsents;\n    this.#mspaCoveredTransaction = mspaCoveredTransaction;\n    this.#mspaOptOutOptionMode = mspaOptOutOptionMode;\n    this.#mspaServiceProviderMode = mspaServiceProviderMode;\n  }\n\n  encode2BitStr() {\n    let bitStr = \"\";\n    bitStr += this.#version.encode2BitStr();\n    bitStr += this.#saleOptOutNotice.encode2BitStr();\n    bitStr += this.#sharingOptOutNotice.encode2BitStr();\n    bitStr += this.#sensitiveDataLimitUseNotice.encode2BitStr();\n    bitStr += this.#saleOptOut.encode2BitStr();\n    bitStr += this.#sharingOptOut.encode2BitStr();\n    bitStr += this.#sensitiveDataProcessing.encode2BitStr();\n    bitStr += this.#knownChildSensitiveDataConsents.encode2BitStr();\n    bitStr += this.#personalDataConsents.encode2BitStr();\n    bitStr += this.#mspaCoveredTransaction.encode2BitStr();\n    bitStr += this.#mspaOptOutOptionMode.encode2BitStr();\n    bitStr += this.#mspaServiceProviderMode.encode2BitStr();\n    // const b64 = Buffer.from(bitStr, \"base64url\");\n    return bitStr;\n  }\n\n  getGPPSectionID() {\n    return this.#gppSectionID;\n  }\n\n  getClientSideAPIPrefix() {\n    return this.#clientSideAPIPrefix;\n  }\n}\n\nexport { UspcaSection };\n"],"names":[],"version":3,"file":"index.mjs.map"}